This page in [English](/docs/en/additional_settings.md)

### Предыдущая страница: [Настройка метаданных отчета (шахта, навигация)](/docs/ru/meta_report.md)

# Настройка конфигурации

Стандартная настройка регистрации модуля _report_ в конфигурации приложения включает в себя следующие разделы:

- [x] [Автоматическая сборка шахты данных `"jobs"`](/docs/ru/additional_settings.md#автоматическая-сборка-шахты-данных-jobs)
- [x] [Пространство имен проекта `"namespaces"`](/docs/ru/additional_settings.md#пространство-имен-проекта-namespaces)
- [x] [Отображение навигации по умолчанию `"defaultNav"`](/docs/ru/additional_settings.md#отображение-навигации-по-умолчанию-defaultnav)
- [x] [Настрока сборщика для источника данных `"mineBuilders"`](/docs/ru/additional_settings.md#настрока-сборщика-для-источника-данных-minebuilders)
- [x] [Настройка исполняемых задач `"di"`](/docs/ru/additional_settings.md#настройка-исполняемых-задач-di)
- [x] [Определение статичных шаблонов `"statics"`](/docs/ru/additional_settings.md#определение-статичных-шаблонов-statics)
- [x] [Логотип на странице отчетов `"logo"`](/docs/ru/additional_settings.md#логотип-на-странице-отчетов-logo)
- [x] [Определение настроек метаданных отчетов `"import"`](/docs/ru/additional_settings.md#определение-настроек-метаданных-отчетов-import)

Структура которых строится следующим образом:
```javascript
"globals": {
  "jobs": {}
},
"modules": {
  "report": {
    "globals": {
      "namespaces": {...},
      "defaultNav": {...},
      "mineBuilders": {...},
      "di": {...},
      "statics": {...},
      "logo": "..."
    },
    "import": {...}
  }
}
```

## Автоматическая сборка шахты данных `jobs`

Для автоматической сборки шахты данных необходимо в файл *config.ini* платформы добавить настройку `jobs.enabled=true`. Интервал автоматической сборки шахты данных настраивается в файле *deploy.json* приложения. Например, чтобы запускать задание при старте приложения и далее каждые 6 часов, нужно задать для свойства `"jobs"` в файле deploy.json приложения следующие параметры:

```javascript
"jobs": {
      "report-builder": {
        "description": "Служба сборки шахт данных модуля отчетов",
        "launch": {
          "hour": 21600000
        }
      }

```

## Пространство имен проекта `namespaces`

Для данного свойства отпределяем пространство имен приложения:
```javascript
"namespaces": {
  "namespaceApp": "Проект"
}
```

## Отображение навигации по умолчанию `defaultNav`

При переходе на страницу модуля отчетов открывается навигация по умолчанию, настройки которой заданы в следующем виде:
```javascript
"defaultNav": {
  "namespace": "namespaceApp", // пространство имен проекта
  "mine": "reportName", // наименование отчета
  "report": "reportTest" // наименование таблицы отчета, построенной на основе данных из источника
}
```

## Настрока сборщика для источника данных `mineBuilders`

Выполняет привязку сборщиков к источникам данных, чтобы иметь возможность агрегировать из разных источников. Для этого используется стандартный `mineBuilder`. 
```javascript
"mineBuilders": {
  "namespaceApp": {
    "reportName": {
      "dataTest": "mineBuilder"
    }
  }
}
```

## Настройка исполняемых задач `di`
```javascript
"di": {},
```

## Определение статичных шаблонов `statics`

В данном разделе задается статичный шаблон в виде переменной, который определяет путь до папки, содержащей данные для модуля. Статичный шаблон применяется в настройках иных разделов модуля.
```javascript
"statics": {
  "geoicons": "applications/namespaceApp/templates/icons"
}
```

## Логотип на странице отчетов `logo`

Логотип будет отображаться в левом верхнем углу на странице модуля отчетов. Путь к логотипу состоит из переменной статичного шаблона, определенной в разделе `"statics"` и наименование картинки для логотипа.
```javascript
"logo": "geoicons/logo.png"
```

## Определение настроек метаданных отчетов `import`

В данном разделе определяется путь к файлу с настройками метаданных отчета относительно платформы. Дополнительно необходимо указать пространство имен приложения.
```javascript
"import": {
  "src": "applications/namespaceApp/bi",
  "namespace": "namespaceApp"
}
```
